#ifndef MBEDTLS_CONFIG_H
#define MBEDTLS_CONFIG_H

/* System support */
#define MBEDTLS_PLATFORM_C
#define MBEDTLS_PLATFORM_MEMORY
#define MBEDTLS_PLATFORM_NO_STD_FUNCTIONS

/* Disable features not needed for bare metal */
#undef MBEDTLS_NET_C
#undef MBEDTLS_TIMING_C
#undef MBEDTLS_FS_IO
#undef MBEDTLS_HAVE_TIME
#undef MBEDTLS_HAVE_TIME_DATE

/* Enable only SHA-256 */
#define MBEDTLS_SHA256_C
#define MBEDTLS_SHA256_SMALLER  /* Use smaller implementation for embedded */

/* Disable all other crypto not needed */
#undef MBEDTLS_AES_C
#undef MBEDTLS_RSA_C
#undef MBEDTLS_ECP_C
#undef MBEDTLS_ECDSA_C
#undef MBEDTLS_X509_USE_C
#undef MBEDTLS_SSL_TLS_C

/* Memory allocation */
#define MBEDTLS_PLATFORM_STD_CALLOC   calloc
#define MBEDTLS_PLATFORM_STD_FREE     free

/* Remove entropy/random number generation for hash-only usage */
#undef MBEDTLS_ENTROPY_C
#undef MBEDTLS_CTR_DRBG_C

#include "mbedtls/check_config.h"

#endif /* MBEDTLS_CONFIG_H */
